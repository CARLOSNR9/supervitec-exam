<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>SuperviTEC PRO — Acceso al Simulacro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Favicon / Theme -->
  <link rel="icon" type="image/png" sizes="32x32" href="logo.png">
  <link rel="icon" type="image/png" sizes="192x192" href="logo.png">
  <link rel="apple-touch-icon" href="logo.png">
  <meta name="theme-color" content="#0f172a">

  <style>
    :root { --bg:#0f172a; --card:#111827; --txt:#e5e7eb; --muted:#94a3b8; --accent:#22c55e; --danger:#ef4444; --gold:#fbbf24; }
    *{ box-sizing:border-box; font-family:system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial; }
    body{ margin:0; background:linear-gradient(135deg,#0b1220,#101827 40%,#0b1220); color:var(--txt); min-height:100vh; display:grid; place-items:center; }
    .card{ width:100%; max-width:480px; background:var(--card); padding:28px; border-radius:18px; box-shadow:0 15px 40px rgba(0,0,0,.35); border:1px solid #1f2937; }
    .logo-wrap{ display:flex; flex-direction:column; align-items:center; gap:10px; margin-bottom:12px; }
    .logo{ width:140px; height:auto; user-select:none; -webkit-user-drag:none; filter: drop-shadow(0 10px 24px rgba(251,191,36,.28)); }
    .brandtext{ font-weight:800; letter-spacing:.5px; opacity:.95 }
    h1{ margin:6px 0 6px; font-size:22px; }
    p{ margin:6px 0 18px; color:var(--muted); font-size:14px; text-align:center; }
    label{ font-size:14px; color:#cbd5e1; display:block; margin-bottom:6px; }
    input[type="password"]{
      width:100%; padding:14px 12px; border-radius:12px; border:1px solid #334155; background:#0b1220; color:#e5e7eb; font-size:16px; outline:none;
    }
    input[type="password"]::placeholder{ color:#64748b; }
    .row{ display:flex; gap:12px; margin-top:18px; align-items:center; }
    button{
      flex:1; padding:12px 14px; border-radius:12px; border:0; font-weight:600; cursor:pointer;
      background:var(--accent); color:#052e13; transition:.18s ease-in-out;
    }
    button:hover{ transform:translateY(-1px); filter:brightness(1.05); }
    .muted{ font-size:12px; color:#93a4b8; margin-top:12px; text-align:center; }
    .error{ color:var(--danger); margin-top:10px; font-size:13px; min-height:18px; text-align:center; }
    .footer{ margin-top:18px; font-size:12px; color:#7c8aa3; text-align:center; }
    .hint{ font-size:12px; color:#7ea887; margin-top:8px; display:none; text-align:center; }
  </style>
</head>
<body>
  <div class="card">
    <!-- Logo -->
    <div class="logo-wrap">
      <img src="logo.png" alt="SuperviTEC PRO" class="logo" />
      <div class="brandtext">SUPERVITEC&nbsp;PRO</div>
    </div>

    <h1 style="text-align:center">Acceso al Simulacro</h1>
    <p>Ingresa la <strong>contraseña del día</strong>. La recibirás 2 minutos antes de iniciar.</p>

    <form id="access-form" autocomplete="off">
      <label for="password">Contraseña</label>
      <input id="password" type="password" placeholder="••••••••" required />
      <div class="row">
        <button type="submit">Ingresar</button>
      </div>
      <div id="error" class="error"></div>
      <div class="muted">Dispondrás de <strong>60:00</strong> minutos una vez ingreses.</div>
      <div id="hint" class="hint">Consejo: evita refrescar la página durante el examen.</div>
    </form>

    <div class="footer">SuperviTEC PRO · Evaluación Técnica</div>
  </div>

  <script>
    // Config simple (uso único supervisado)
    const EXAM_PASSWORD = "supervitec25"; // <- tu clave del día
    const DURATION_MINUTES = 60;

    const form = document.getElementById('access-form');
    const errorEl = document.getElementById('error');
    const hintEl = document.getElementById('hint');
    const pwdEl = document.getElementById('password');

    function makeToken(len = 32) {
      const arr = new Uint8Array(len);
      crypto.getRandomValues(arr);
      return Array.from(arr, b => b.toString(16).padStart(2,"0")).join("");
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      errorEl.textContent = "";
      const pwd = (pwdEl.value || "").trim();

      if (!pwd) { errorEl.textContent = "Ingresa la contraseña."; return; }
      if (pwd !== EXAM_PASSWORD) { errorEl.textContent = "Contraseña incorrecta. Verifica la clave del día."; return; }

      const now = Date.now();
      const expiresAt = now + DURATION_MINUTES * 60 * 1000;

      localStorage.setItem("sv_exam_token", makeToken(24));
      localStorage.setItem("sv_exam_startedAt", String(now));
      localStorage.setItem("sv_exam_expiresAt", String(expiresAt));
      localStorage.setItem("sv_exam_duration", String(DURATION_MINUTES));
      localStorage.setItem("sv_exam_pwd_ok", "1");

      hintEl.style.display = "block";
      setTimeout(() => { window.location.href = "exam.html"; }, 300);
    });

    pwdEl.addEventListener('keydown', (e) => { if (e.key === 'Enter') form.requestSubmit(); });
  </script>
</body>
</html>
